!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports):"function"==typeof define&&define.amd?define(["exports"],o):o((t=t||self).ArgonStorage={})}(this,(function(t){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function e(t,o){for(var e=0;e<o.length;e++){var n=o[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,o){return void 0===t?o:t}function a(t){return"string"==typeof t?t.trim():""}function i(t,e){null!=t&&"object"===o(t)&&Object.keys(t).forEach((function(o){e[o]=t[o]}))}function c(t){try{return JSON.parse(t)}catch(o){return t}}var r=window.location,l=window.localStorage,_=window.sessionStorage,u=Object.prototype.hasOwnProperty,s="Thu, 31 Dec 2037 00:00:00 GMT",p="Thu, 01 Jan 1970 00:00:00 UTC",x=864e5,d=["localhost","0.0.0.0","127.0.0.1",null],f={SS:"sessionStorage",LS:"localStorage",CC:"cookie"};function v(t,e,a,i,c,l){if(t&&void 0!==e){i=n(i,"/"),c=n(c,r.hostname);var _=e;"object"===o(e)&&e&&(_=JSON.stringify(e));var u=new Date;"number"==typeof u&&(a===1/0?u=new Date(s):u.setTime(u.getTime()+a*x));var p=a?"; expires=".concat(u.toUTCString()):"",f="; path=".concat(i.trim()),v=-1===d.indexOf(c)?"; domain=".concat(c.trim()):"",h=("boolean"==typeof l&&l||void 0===l)&&"https:"===r.protocol?"; secure":"";document.cookie="".concat(t," = ").concat(_).concat(p).concat(v).concat(f).concat(h)}}function h(t,o){if(t){var e=decodeURIComponent(document.cookie),n="";return function(t,o){if(t&&t.length)for(var e=0;e<t.length;e+=1)if("function"==typeof o){var n=o.apply(t,[t[e],e]);if("boolean"==typeof n){if(n)continue;break}}}(e.split(";"),(function(e){var i="".concat(t,"="),c=e.indexOf(i);if(c>-1)return n=e.substring(c+i.length,e.length),o&&(n=a(n)),!1})),n}return""}function y(t,o,e){var i=h.apply(this,[t]);if(t&&i.length){o=n(o,"/"),e=n(e,r.hostname);var c=-1===d.indexOf(e)?"; domain=".concat(e.trim()):"",l="".concat(t,"=; expires=").concat(p).concat(c,"; path=").concat(o);return document.cookie=l,!a(h.apply(this,[t])).length}return!1}var m=String.fromCharCode;function g(t,o,e){if(u.call(t.context_dictionaryToCreate,t.context_w)){if(t.context_w.charCodeAt(0)<256){for(var n=0;n<t.context_numBits;n++)t.context_data_val=t.context_data_val<<1,t.context_data_position==o-1?(t.context_data_position=0,t.context_data.push(e(t.context_data_val)),t.context_data_val=0):t.context_data_position++;t.value=t.context_w.charCodeAt(0);for(var a=0;a<8;a++)t.context_data_val=t.context_data_val<<1|1&t.value,t.context_data_position==o-1?(t.context_data_position=0,t.context_data.push(e(t.context_data_val)),t.context_data_val=0):t.context_data_position++,t.value=t.value>>1}else{t.value=1;for(var i=0;i<t.context_numBits;i++)t.context_data_val=t.context_data_val<<1|t.value,t.context_data_position==o-1?(t.context_data_position=0,t.context_data.push(e(t.context_data_val)),t.context_data_val=0):t.context_data_position++,t.value=0;t.value=t.context_w.charCodeAt(0);for(var c=0;c<16;c++)t.context_data_val=t.context_data_val<<1|1&t.value,t.context_data_position==o-1?(t.context_data_position=0,t.context_data.push(e(t.context_data_val)),t.context_data_val=0):t.context_data_position++,t.value=t.value>>1}t.context_enlargeIn--,0==t.context_enlargeIn&&(t.context_enlargeIn=Math.pow(2,t.context_numBits),t.context_numBits++),delete t.context_dictionaryToCreate[t.context_w]}else{t.value=t.context_dictionary[t.context_w];for(var r=0;r<t.context_numBits;r++)t.context_data_val=t.context_data_val<<1|1&t.value,t.context_data_position==o-1?(t.context_data_position=0,t.context_data.push(e(t.context_data_val)),t.context_data_val=0):t.context_data_position++,t.value=t.value>>1}t.context_enlargeIn--,0==t.context_enlargeIn&&(t.context_enlargeIn=Math.pow(2,t.context_numBits),t.context_numBits++)}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1?arguments[1]:void 0,e=arguments.length>2?arguments[2]:void 0;if(null===t)return"";for(var n={context_dictionary:{},context_dictionaryToCreate:{},context_data:[],context_c:"",context_wc:"",context_w:"",context_enlargeIn:2,context_dictSize:3,context_numBits:2,context_data_val:0,context_data_position:0},a=0,i=0;i<t.length;i+=1)n.context_c=t.charAt(i),u.call(n.context_dictionary,n.context_c)||(n.context_dictionary[n.context_c]=n.context_dictSize++,n.context_dictionaryToCreate[n.context_c]=!0),n.context_wc=n.context_w+n.context_c,u.call(n.context_dictionary,n.context_wc)?n.context_w=n.context_wc:(g(n,o,e),n.context_dictionary[n.context_wc]=n.context_dictSize++,n.context_w=String(n.context_c));for(""!==n.context_w&&g(n,o,e),n.value=2,a=0;a<n.context_numBits;a++)n.context_data_val=n.context_data_val<<1|1&n.value,n.context_data_position==o-1?(n.context_data_position=0,n.context_data.push(e(n.context_data_val)),n.context_data_val=0):n.context_data_position++,n.value=n.value>>1;for(;;){if(n.context_data_val=n.context_data_val<<1,n.context_data_position==o-1){n.context_data.push(e(n.context_data_val));break}n.context_data_position++}return n.context_data.join("")}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return null===t?"":w(t,15,(function(t){return m(t+32)}))+" "}function S(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return null===w?"":""===w?null:function(t,o,e){for(var n,a,i,c=[],r={val:e(0),position:o,index:1},l=[],_=4,u=4,s=3,p="",x=0;x<3;x+=1)c[x]=x;for(var d=0,f=Math.pow(2,2),v=1;v!==f;)a=r.val&r.position,r.position>>=1,0===r.position&&(r.position=o,r.val=e(r.index++)),d|=(a>0?1:0)*v,v<<=1;switch(d){case 0:for(d=0,f=Math.pow(2,8),v=1;v!==f;)a=r.val&r.position,r.position>>=1,0===r.position&&(r.position=o,r.val=e(r.index++)),d|=(a>0?1:0)*v,v<<=1;i=m(d);break;case 1:for(d=0,f=Math.pow(2,16),v=1;v!==f;)a=r.val&r.position,r.position>>=1,0===r.position&&(r.position=o,r.val=e(r.index++)),d|=(a>0?1:0)*v,v<<=1;i=m(d);break;case 2:return""}for(c[3]=i,n=i,l.push(i);;){if(r.index>t)return"";for(d=0,f=Math.pow(2,s),v=1;v!==f;)a=r.val&r.position,r.position>>=1,0===r.position&&(r.position=o,r.val=e(r.index++)),d|=(a>0?1:0)*v,v<<=1;switch(i=d){case 0:for(d=0,f=Math.pow(2,8),v=1;v!==f;)a=r.val&r.position,r.position>>=1,0===r.position&&(r.position=o,r.val=e(r.index++)),d|=(a>0?1:0)*v,v<<=1;c[u++]=m(d),i=u-1,_--;break;case 1:for(d=0,f=Math.pow(2,16),v=1;v!==f;)a=r.val&r.position,r.position>>=1,0===r.position&&(r.position=o,r.val=e(r.index++)),d|=(a>0?1:0)*v,v<<=1;c[u++]=m(d),i=u-1,_--;break;case 2:return l.join("")}if(0===_&&(_=Math.pow(2,s),s++),c[i])p=c[i];else{if(i!==u)return null;p=n+n.charAt(0)}l.push(p),c[u++]=n+p.charAt(0),n=p,0===--_&&(_=Math.pow(2,s),s++)}}(t.length,16384,(function(o){return t.charCodeAt(o)-32}))}function k(t,e,n){if(t&&void 0!==e)if("object"===o(e)&&e&&(e=JSON.stringify(e)),this.available){var a=n?_:l;try{a.setItem(t,this.config.compress?b(e):e)}catch(o){v(t,e,n?void 0:1/0)}}else v(t,e,n?void 0:1/0)}function C(t){var o=this,e=[];try{this.available&&[l,_].forEach((function(n){if(u.call(n,t)){var a=n.getItem(t);e.push({key:t,value:c(o.config.compress?S(a):a),type:f[n===l?"LS":"SS"]})}}));var n=h(t);n&&e.push({key:t,value:c(n),type:f.CC})}catch(t){throw new TypeError(t.message)}return e}function I(t){try{this.available&&[l,_].forEach((function(o){o.removeItem(t)}));var o=y(t);return!!this.get(t)||o}catch(o){return y(t)}}var T=function(){function t(e){!function(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=Object.freeze(function(){var t=0,e="object"!==o(arguments[0])||null==arguments[0]?{}:arguments[0];for(t=1;t<arguments.length;t++)i(arguments[t],e);return e}(e,{compress:!1})),this.available=function(){try{return l.setItem("test","test"),l.removeItem("test"),!0}catch(t){return!1}}()}var n,a,c;return n=t,(a=[{key:"set",value:function(){return k.apply(this,arguments)}},{key:"get",value:function(){var t=arguments,o=this.getAll.apply(this,arguments).filter((function(o){return!t[1]||o.type===f.SS}));if(o.length>0)return o[0].value}},{key:"getAll",value:function(){return C.apply(this,arguments)}},{key:"remove",value:function(){return I.apply(this,arguments)}}])&&e(n.prototype,a),c&&e(n,c),t}();t.compress=b,t.decompress=S,t.default=T,t.getAllCookies=function(t){return decodeURIComponent(document.cookie).split(";").map((function(t){var o=t.split("=");return{key:a(o[0]),value:o[1]}})).filter((function(o){return!!o.key.match(t)}))},t.getCookie=h,t.removeCookie=y,t.setCookie=v,Object.defineProperty(t,"__esModule",{value:!0})}));
