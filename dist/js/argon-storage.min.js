!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports):"function"==typeof define&&define.amd?define(["exports"],o):o((t=t||self).ArgonStorage={})}(this,(function(t){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,o){for(var n=0;n<o.length;n++){var e=o[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function e(t,o){return void 0===t?o:t}function a(t){return"string"==typeof t?t.trim():""}function i(t,n){null!=t&&"object"===o(t)&&Object.keys(t).forEach((function(o){n[o]=t[o]}))}function c(t){try{return JSON.parse(t)}catch(o){return t}}var r=window.location,l=window.localStorage,_=window.sessionStorage,u=Object.prototype.hasOwnProperty,s="Thu, 31 Dec 2037 00:00:00 GMT",p="Thu, 01 Jan 1970 00:00:00 UTC",x=864e5,f=["localhost","0.0.0.0","127.0.0.1",null],d={SS:"sessionStorage",LS:"localStorage",CC:"cookie"};function v(t,n,a,i,c,l){if(t&&void 0!==n){i=e(i,"/"),c=e(c,r.hostname);var _=n;"object"===o(n)&&n&&(_=JSON.stringify(n));var u=new Date;"number"==typeof u&&(a===1/0?u=new Date(s):u.setTime(u.getTime()+a*x));var p=a?"; expires=".concat(u.toUTCString()):"",d="; path=".concat(i.trim()),v=-1===f.indexOf(c)?"; domain=".concat(c.trim()):"",h=("boolean"==typeof l&&l||void 0===l)&&"https:"===r.protocol?"; secure":"";document.cookie="".concat(t," = ").concat(_).concat(p).concat(v).concat(d).concat(h)}}function h(t,o){if(t){var n=decodeURIComponent(document.cookie),e="";return function(t,o){if(t&&t.length)for(var n=0;n<t.length;n+=1)if("function"==typeof o){var e=o.apply(t,[t[n],n]);if("boolean"==typeof e){if(e)continue;break}}}(n.split(";"),(function(n){var i="".concat(t,"="),c=n.indexOf(i);if(c>-1)return e=n.substring(c+i.length,n.length),o&&(e=a(e)),!1})),e}return""}function y(t,o,n){var i=h.apply(this,[t]);if(t&&i.length){o=e(o,"/"),n=e(n,r.hostname);var c=-1===f.indexOf(n)?"; domain=".concat(n.trim()):"",l="".concat(t,"=; expires=").concat(p).concat(c,"; path=").concat(o);return document.cookie=l,!a(h.apply(this,[t])).length}return!1}var m=String.fromCharCode;function g(t,o,n){if(u.call(t.context_dictionaryToCreate,t.context_w)){if(t.context_w.charCodeAt(0)<256){for(var e=0;e<t.context_numBits;e++)t.context_data_val=t.context_data_val<<1,t.context_data_position==o-1?(t.context_data_position=0,t.context_data.push(n(t.context_data_val)),t.context_data_val=0):t.context_data_position++;t.value=t.context_w.charCodeAt(0);for(var a=0;a<8;a++)t.context_data_val=t.context_data_val<<1|1&t.value,t.context_data_position==o-1?(t.context_data_position=0,t.context_data.push(n(t.context_data_val)),t.context_data_val=0):t.context_data_position++,t.value=t.value>>1}else{t.value=1;for(var i=0;i<t.context_numBits;i++)t.context_data_val=t.context_data_val<<1|t.value,t.context_data_position==o-1?(t.context_data_position=0,t.context_data.push(n(t.context_data_val)),t.context_data_val=0):t.context_data_position++,t.value=0;t.value=t.context_w.charCodeAt(0);for(var c=0;c<16;c++)t.context_data_val=t.context_data_val<<1|1&t.value,t.context_data_position==o-1?(t.context_data_position=0,t.context_data.push(n(t.context_data_val)),t.context_data_val=0):t.context_data_position++,t.value=t.value>>1}t.context_enlargeIn--,0==t.context_enlargeIn&&(t.context_enlargeIn=Math.pow(2,t.context_numBits),t.context_numBits++),delete t.context_dictionaryToCreate[t.context_w]}else{t.value=t.context_dictionary[t.context_w];for(var r=0;r<t.context_numBits;r++)t.context_data_val=t.context_data_val<<1|1&t.value,t.context_data_position==o-1?(t.context_data_position=0,t.context_data.push(n(t.context_data_val)),t.context_data_val=0):t.context_data_position++,t.value=t.value>>1}t.context_enlargeIn--,0==t.context_enlargeIn&&(t.context_enlargeIn=Math.pow(2,t.context_numBits),t.context_numBits++)}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(null===t)return"";for(var e={context_dictionary:{},context_dictionaryToCreate:{},context_data:[],context_c:"",context_wc:"",context_w:"",context_enlargeIn:2,context_dictSize:3,context_numBits:2,context_data_val:0,context_data_position:0},a=0,i=0;i<t.length;i+=1)e.context_c=t.charAt(i),u.call(e.context_dictionary,e.context_c)||(e.context_dictionary[e.context_c]=e.context_dictSize++,e.context_dictionaryToCreate[e.context_c]=!0),e.context_wc=e.context_w+e.context_c,u.call(e.context_dictionary,e.context_wc)?e.context_w=e.context_wc:(g(e,o,n),e.context_dictionary[e.context_wc]=e.context_dictSize++,e.context_w=String(e.context_c));for(""!==e.context_w&&g(e,o,n),e.value=2,a=0;a<e.context_numBits;a++)e.context_data_val=e.context_data_val<<1|1&e.value,e.context_data_position==o-1?(e.context_data_position=0,e.context_data.push(n(e.context_data_val)),e.context_data_val=0):e.context_data_position++,e.value=e.value>>1;for(;;){if(e.context_data_val=e.context_data_val<<1,e.context_data_position==o-1){e.context_data.push(n(e.context_data_val));break}e.context_data_position++}return e.context_data.join("")}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return null===t?"":w(t,15,(function(t){return m(t+32)}))+" "}function S(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return null===w?"":""===w?null:function(t,o,n){for(var e,a,i,c=[],r={val:n(0),position:o,index:1},l=[],_=4,u=4,s=3,p="",x=0;x<3;x+=1)c[x]=x;for(var f=0,d=Math.pow(2,2),v=1;v!==d;)a=r.val&r.position,r.position>>=1,0===r.position&&(r.position=o,r.val=n(r.index++)),f|=(a>0?1:0)*v,v<<=1;switch(f){case 0:for(f=0,d=Math.pow(2,8),v=1;v!==d;)a=r.val&r.position,r.position>>=1,0===r.position&&(r.position=o,r.val=n(r.index++)),f|=(a>0?1:0)*v,v<<=1;i=m(f);break;case 1:for(f=0,d=Math.pow(2,16),v=1;v!==d;)a=r.val&r.position,r.position>>=1,0===r.position&&(r.position=o,r.val=n(r.index++)),f|=(a>0?1:0)*v,v<<=1;i=m(f);break;case 2:return""}for(c[3]=i,e=i,l.push(i);;){if(r.index>t)return"";for(f=0,d=Math.pow(2,s),v=1;v!==d;)a=r.val&r.position,r.position>>=1,0===r.position&&(r.position=o,r.val=n(r.index++)),f|=(a>0?1:0)*v,v<<=1;switch(i=f){case 0:for(f=0,d=Math.pow(2,8),v=1;v!==d;)a=r.val&r.position,r.position>>=1,0===r.position&&(r.position=o,r.val=n(r.index++)),f|=(a>0?1:0)*v,v<<=1;c[u++]=m(f),i=u-1,_--;break;case 1:for(f=0,d=Math.pow(2,16),v=1;v!==d;)a=r.val&r.position,r.position>>=1,0===r.position&&(r.position=o,r.val=n(r.index++)),f|=(a>0?1:0)*v,v<<=1;c[u++]=m(f),i=u-1,_--;break;case 2:return l.join("")}if(0===_&&(_=Math.pow(2,s),s++),c[i])p=c[i];else{if(i!==u)return null;p=e+e.charAt(0)}l.push(p),c[u++]=e+p.charAt(0),e=p,0===--_&&(_=Math.pow(2,s),s++)}}(t.length,16384,(function(o){return t.charCodeAt(o)-32}))}function k(t,n,e){if(t&&void 0!==n)if("object"===o(n)&&n&&(n=JSON.stringify(n)),this.available){var a=e?_:l;try{a.setItem(t,this.config.compress?b(n):n)}catch(o){v(t,n,e?void 0:1/0)}}else v(t,n,e?void 0:1/0)}function C(t){var o=this,n=[];try{this.available&&[l,_].forEach((function(e){if(u.call(e,t)){var a=e.getItem(t);n.push({key:t,value:c(o.config.compress?S(a):a),type:d[e===l?"LS":"SS"]})}}));var e=h(t);e&&n.push({key:t,value:c(e),type:d.CC})}catch(t){throw new TypeError(t.message)}return n}function I(t){try{var o=!1;this.available&&([l,_].forEach((function(n){o=o||!!n.getItem(t)})),o&&[l,_].forEach((function(o){o.removeItem(t)})));var n=y(t);return o||n}catch(o){return y(t)}}var T=function(){function t(n){!function(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=Object.freeze(function(){var t=0,n="object"!==o(arguments[0])||null==arguments[0]?{}:arguments[0];for(t=1;t<arguments.length;t++)i(arguments[t],n);return n}(n,{compress:!1})),this.available=function(){try{return l.setItem("test","test"),l.removeItem("test"),!0}catch(t){return!1}}()}var e,a,c;return e=t,(a=[{key:"set",value:function(){return k.apply(this,arguments)}},{key:"get",value:function(){var t=arguments,o=this.getAll.apply(this,arguments).filter((function(o){return!t[1]||o.type===d.SS}));if(o.length>0)return o[0].value}},{key:"getAll",value:function(){return C.apply(this,arguments)}},{key:"remove",value:function(){return I.apply(this,arguments)}}])&&n(e.prototype,a),c&&n(e,c),t}();t.compress=b,t.decompress=S,t.default=T,t.getAllCookies=function(t){return decodeURIComponent(document.cookie).split(";").map((function(t){var o=t.split("=");return{key:a(o[0]),value:o[1]}})).filter((function(o){return!!o.key.match(t)}))},t.getCookie=h,t.removeCookie=y,t.setCookie=v,Object.defineProperty(t,"__esModule",{value:!0})}));
