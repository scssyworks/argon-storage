!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports):"function"==typeof define&&define.amd?define(["exports"],o):o((t=t||self).ArgonStorage={})}(this,(function(t){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,o){for(var n=0;n<o.length;n++){var e=o[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function e(t){return t&&"object"===o(t)}function a(t,o){return void 0===t?o:t}function i(t){return"string"==typeof t?t.trim():""}function c(t,o){e(t)&&Object.keys(t).forEach((function(n){o[n]=t[n]}))}function r(t){try{return JSON.parse(t)}catch(o){return t}}var l=window.location,_=window.localStorage,u=window.sessionStorage,s=Object.prototype.hasOwnProperty,p="Thu, 31 Dec 2037 00:00:00 GMT",f="Thu, 01 Jan 1970 00:00:00 UTC",x=864e5,d=["localhost","0.0.0.0","127.0.0.1",null],v={SS:"sessionStorage",LS:"localStorage",CC:"cookie"};function h(t,n,e,i,c,r){if(t&&void 0!==n){i=a(i,"/"),c=a(c,l.hostname);var _=n;"object"===o(n)&&n&&(_=JSON.stringify(n));var u=new Date;"number"==typeof u&&(e===1/0?u=new Date(p):u.setTime(u.getTime()+e*x));var s=e?"; expires=".concat(u.toUTCString()):"",f="; path=".concat(i.trim()),v=-1===d.indexOf(c)?"; domain=".concat(c.trim()):"",h=("boolean"==typeof r&&r||void 0===r)&&"https:"===l.protocol?"; secure":"";document.cookie="".concat(t," = ").concat(_).concat(s).concat(v).concat(f).concat(h)}}function y(t,o){if(t){var n=decodeURIComponent(document.cookie),e="";return function(t,o){if(t&&t.length)for(var n=0;n<t.length;n+=1)if("function"==typeof o){var e=o.apply(t,[t[n],n]);if("boolean"==typeof e){if(e)continue;break}}}(n.split(";"),(function(n){var a="".concat(t,"="),c=n.indexOf(a);if(c>-1)return e=n.substring(c+a.length,n.length),o&&(e=i(e)),!1})),e}return""}function m(t,o,n){var e=y.apply(this,[t]);if(t&&e.length){o=a(o,"/"),n=a(n,l.hostname);var c=-1===d.indexOf(n)?"; domain=".concat(n.trim()):"",r="".concat(t,"=; expires=").concat(f).concat(c,"; path=").concat(o);return document.cookie=r,!i(y.apply(this,[t])).length}return!1}var g=String.fromCharCode;function w(t,o,n){if(s.call(t.context_dictionaryToCreate,t.context_w)){if(t.context_w.charCodeAt(0)<256){for(var e=0;e<t.context_numBits;e++)t.context_data_val=t.context_data_val<<1,t.context_data_position==o-1?(t.context_data_position=0,t.context_data.push(n(t.context_data_val)),t.context_data_val=0):t.context_data_position++;t.value=t.context_w.charCodeAt(0);for(var a=0;a<8;a++)t.context_data_val=t.context_data_val<<1|1&t.value,t.context_data_position==o-1?(t.context_data_position=0,t.context_data.push(n(t.context_data_val)),t.context_data_val=0):t.context_data_position++,t.value=t.value>>1}else{t.value=1;for(var i=0;i<t.context_numBits;i++)t.context_data_val=t.context_data_val<<1|t.value,t.context_data_position==o-1?(t.context_data_position=0,t.context_data.push(n(t.context_data_val)),t.context_data_val=0):t.context_data_position++,t.value=0;t.value=t.context_w.charCodeAt(0);for(var c=0;c<16;c++)t.context_data_val=t.context_data_val<<1|1&t.value,t.context_data_position==o-1?(t.context_data_position=0,t.context_data.push(n(t.context_data_val)),t.context_data_val=0):t.context_data_position++,t.value=t.value>>1}t.context_enlargeIn--,0==t.context_enlargeIn&&(t.context_enlargeIn=Math.pow(2,t.context_numBits),t.context_numBits++),delete t.context_dictionaryToCreate[t.context_w]}else{t.value=t.context_dictionary[t.context_w];for(var r=0;r<t.context_numBits;r++)t.context_data_val=t.context_data_val<<1|1&t.value,t.context_data_position==o-1?(t.context_data_position=0,t.context_data.push(n(t.context_data_val)),t.context_data_val=0):t.context_data_position++,t.value=t.value>>1}t.context_enlargeIn--,0==t.context_enlargeIn&&(t.context_enlargeIn=Math.pow(2,t.context_numBits),t.context_numBits++)}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(null===t)return"";for(var e={context_dictionary:{},context_dictionaryToCreate:{},context_data:[],context_c:"",context_wc:"",context_w:"",context_enlargeIn:2,context_dictSize:3,context_numBits:2,context_data_val:0,context_data_position:0},a=0,i=0;i<t.length;i+=1)e.context_c=t.charAt(i),s.call(e.context_dictionary,e.context_c)||(e.context_dictionary[e.context_c]=e.context_dictSize++,e.context_dictionaryToCreate[e.context_c]=!0),e.context_wc=e.context_w+e.context_c,s.call(e.context_dictionary,e.context_wc)?e.context_w=e.context_wc:(w(e,o,n),e.context_dictionary[e.context_wc]=e.context_dictSize++,e.context_w=String(e.context_c));for(""!==e.context_w&&w(e,o,n),e.value=2,a=0;a<e.context_numBits;a++)e.context_data_val=e.context_data_val<<1|1&e.value,e.context_data_position==o-1?(e.context_data_position=0,e.context_data.push(n(e.context_data_val)),e.context_data_val=0):e.context_data_position++,e.value=e.value>>1;for(;;){if(e.context_data_val=e.context_data_val<<1,e.context_data_position==o-1){e.context_data.push(n(e.context_data_val));break}e.context_data_position++}return e.context_data.join("")}function S(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return null===t?"":b(t,15,(function(t){return g(t+32)}))+" "}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return null===b?"":""===b?null:function(t,o,n){for(var e,a,i,c=[],r={val:n(0),position:o,index:1},l=[],_=4,u=4,s=3,p="",f=0;f<3;f+=1)c[f]=f;for(var x=0,d=Math.pow(2,2),v=1;v!==d;)a=r.val&r.position,r.position>>=1,0===r.position&&(r.position=o,r.val=n(r.index++)),x|=(a>0?1:0)*v,v<<=1;switch(x){case 0:for(x=0,d=Math.pow(2,8),v=1;v!==d;)a=r.val&r.position,r.position>>=1,0===r.position&&(r.position=o,r.val=n(r.index++)),x|=(a>0?1:0)*v,v<<=1;i=g(x);break;case 1:for(x=0,d=Math.pow(2,16),v=1;v!==d;)a=r.val&r.position,r.position>>=1,0===r.position&&(r.position=o,r.val=n(r.index++)),x|=(a>0?1:0)*v,v<<=1;i=g(x);break;case 2:return""}for(c[3]=i,e=i,l.push(i);;){if(r.index>t)return"";for(x=0,d=Math.pow(2,s),v=1;v!==d;)a=r.val&r.position,r.position>>=1,0===r.position&&(r.position=o,r.val=n(r.index++)),x|=(a>0?1:0)*v,v<<=1;switch(i=x){case 0:for(x=0,d=Math.pow(2,8),v=1;v!==d;)a=r.val&r.position,r.position>>=1,0===r.position&&(r.position=o,r.val=n(r.index++)),x|=(a>0?1:0)*v,v<<=1;c[u++]=g(x),i=u-1,_--;break;case 1:for(x=0,d=Math.pow(2,16),v=1;v!==d;)a=r.val&r.position,r.position>>=1,0===r.position&&(r.position=o,r.val=n(r.index++)),x|=(a>0?1:0)*v,v<<=1;c[u++]=g(x),i=u-1,_--;break;case 2:return l.join("")}if(0===_&&(_=Math.pow(2,s),s++),c[i])p=c[i];else{if(i!==u)return null;p=e+e.charAt(0)}l.push(p),c[u++]=e+p.charAt(0),e=p,0===--_&&(_=Math.pow(2,s),s++)}}(t.length,16384,(function(o){return t.charCodeAt(o)-32}))}function C(t,n,e){if(t&&void 0!==n)if("object"===o(n)&&n&&(n=JSON.stringify(n)),this.available){var a=e?u:_;try{a.setItem(t,this.config.compress?S(n):n)}catch(o){h(t,n,e?void 0:1/0)}}else h(t,n,e?void 0:1/0)}function I(t){var o=this,n=[];try{this.available&&[_,u].forEach((function(e){if(s.call(e,t)){var a=e.getItem(t);n.push({key:t,value:r(o.config.compress?k(a):a),type:v[e===_?"LS":"SS"]})}}));var e=y(t);e&&n.push({key:t,value:r(e),type:v.CC})}catch(t){throw new TypeError(t.message)}return n}function T(t){try{var o=!1;this.available&&([_,u].forEach((function(n){o=o||!!n.getItem(t)})),o&&[_,u].forEach((function(o){o.removeItem(t)})));var n=m(t);return o||n}catch(o){return m(t)}}var M=function(){function t(o){!function(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=Object.freeze(function(){var t=0,o=e(arguments[0])?arguments[0]:{};for(t=1;t<arguments.length;t++)c(arguments[t],o);return o}({compress:!1},o)),this.available=function(){try{return _.setItem("test","test"),_.removeItem("test"),!0}catch(t){return!1}}()}var o,a,i;return o=t,(a=[{key:"set",value:function(){return C.apply(this,arguments)}},{key:"get",value:function(){var t=arguments,o=this.getAll.apply(this,arguments).filter((function(o){return!t[1]||o.type===v.SS}));if(o.length>0)return o[0].value}},{key:"getAll",value:function(){return I.apply(this,arguments)}},{key:"remove",value:function(){return T.apply(this,arguments)}}])&&n(o.prototype,a),i&&n(o,i),t}();t.compress=S,t.decompress=k,t.default=M,t.getAllCookies=function(t){return decodeURIComponent(document.cookie).split(";").map((function(t){var o=t.split("=");return{key:i(o[0]),value:o[1]}})).filter((function(o){return!!o.key.match(t)}))},t.getCookie=y,t.removeCookie=m,t.setCookie=h,Object.defineProperty(t,"__esModule",{value:!0})}));
