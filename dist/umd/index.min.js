!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).ArgonStorage={})}(this,(function(t){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t){return t&&"object"===e(t)}function a(t,e){return void 0===t?e:t}function c(t){return"string"==typeof t?t.trim():""}function r(t,e){o(t)&&Object.keys(t).forEach((function(n){e[n]=t[n]}))}function i(t){try{return JSON.parse(t)}catch(e){return t}}function u(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var l=location,f=localStorage,s=sessionStorage,_=["localhost","0.0.0.0","127.0.0.1",null],v={SS:"sessionStorage",LS:"localStorage",CC:"cookie"};function p(t,n,o,c,r,i){if(t&&void 0!==n){c=a(c,"/"),r=a(r,l.hostname);var u=n;"object"===e(n)&&n&&(u=JSON.stringify(n));var f=new Date;"number"==typeof f&&(o===1/0?f=new Date("Thu, 31 Dec 2037 00:00:00 GMT"):f.setTime(f.getTime()+864e5*o));var s=o?"; expires=".concat(f.toUTCString()):"",v="; path=".concat(c.trim()),p=-1===_.indexOf(r)?"; domain=".concat(r.trim()):"",x=("boolean"==typeof i&&i||void 0===i)&&"https:"===l.protocol?"; secure":"";document.cookie="".concat(t," = ").concat(u).concat(s).concat(p).concat(v).concat(x)}}function x(t,e){if(t){var n=decodeURIComponent(document.cookie),o="";return function(t,e){if(t&&t.length)for(var n=0;n<t.length;n+=1)if("function"==typeof e){var o=e.apply(t,[t[n],n]);if("boolean"==typeof o){if(o)continue;break}}}(n.split(";"),(function(n){var a="".concat(t,"="),r=n.indexOf(a);if(r>-1)return o=n.substring(r+a.length,n.length),e&&(o=c(o)),!1})),o}return""}function d(t,e,n){var o=x.apply(this,[t]);if(t&&o.length){e=a(e,"/"),n=a(n,l.hostname);var r=-1===_.indexOf(n)?"; domain=".concat(n.trim()):"",i="".concat(t,"=; expires=").concat("Thu, 01 Jan 1970 00:00:00 UTC").concat(r,"; path=").concat(e);return document.cookie=i,!c(x.apply(this,[t])).length}return!1}var h=String.fromCharCode;function y(t,e,n){t.context_data_position==e-1?(t.context_data_position=0,t.context_data.push(n(t.context_data_val)),t.context_data_val=0):t.context_data_position++}function m(t){t.context_enlargeIn--,0==t.context_enlargeIn&&(t.context_enlargeIn=Math.pow(2,t.context_numBits),t.context_numBits++)}function g(t,e,n){if(u(t.context_dictionaryToCreate,t.context_w)){if(t.context_w.charCodeAt(0)<256){for(var o=0;o<t.context_numBits;o++)t.context_data_val=t.context_data_val<<1,y(t,e,n);t.value=t.context_w.charCodeAt(0);for(var a=0;a<8;a++)t.context_data_val=t.context_data_val<<1|1&t.value,y(t,e,n),t.value=t.value>>1}else{t.value=1;for(var c=0;c<t.context_numBits;c++)t.context_data_val=t.context_data_val<<1|t.value,y(t,e,n),t.value=0;t.value=t.context_w.charCodeAt(0);for(var r=0;r<16;r++)t.context_data_val=t.context_data_val<<1|1&t.value,y(t,e,n),t.value=t.value>>1}m(t),delete t.context_dictionaryToCreate[t.context_w]}else{t.value=t.context_dictionary[t.context_w];for(var i=0;i<t.context_numBits;i++)t.context_data_val=t.context_data_val<<1|1&t.value,y(t,e,n),t.value=t.value>>1}m(t)}function w(t,e,n,o){for(var a=0,c=1;c!==e;){var r=t.val&t.position;t.position>>=1,0===t.position&&(t.position=n,t.val=o(t.index++)),a|=(r>0?1:0)*c,c<<=1}return a}function b(t){return null==t?"":function(t,e,n){if(null==t)return"";for(var o={context_dictionary:{},context_dictionaryToCreate:{},context_data:[],context_c:"",context_wc:"",context_w:"",context_enlargeIn:2,context_dictSize:3,context_numBits:2,context_data_val:0,context_data_position:0},a=0,c=0;c<t.length;c+=1)o.context_c=t.charAt(c),u(o.context_dictionary,o.context_c)||(o.context_dictionary[o.context_c]=o.context_dictSize++,o.context_dictionaryToCreate[o.context_c]=!0),o.context_wc=o.context_w+o.context_c,u(o.context_dictionary,o.context_wc)?o.context_w=o.context_wc:(g(o,e,n),o.context_dictionary[o.context_wc]=o.context_dictSize++,o.context_w=String(o.context_c));for(""!==o.context_w&&g(o,e,n),o.value=2,a=0;a<o.context_numBits;a++)o.context_data_val=o.context_data_val<<1|1&o.value,y(o,e,n),o.value=o.value>>1;for(;;){if(o.context_data_val=o.context_data_val<<1,o.context_data_position==e-1){o.context_data.push(n(o.context_data_val));break}o.context_data_position++}return o.context_data.join("")}(t,15,(function(t){return h(t+32)}))+" "}function S(t){return null==t?"":""===t?null:function(t,e,n){for(var o,a,c=[],r={val:n(0),position:e,index:1},i=[],u=4,l=4,f=3,s="",_=0;_<3;_++)c[_]=_;switch(w(r,Math.pow(2,2),e,n)){case 0:a=h(w(r,Math.pow(2,8),e,n));break;case 1:a=h(w(r,Math.pow(2,16),e,n));break;case 2:return""}for(c[3]=a,o=a,i.push(a);;){if(r.index>t)return"";switch(a=w(r,Math.pow(2,f),e,n)){case 0:c[l++]=h(w(r,Math.pow(2,8),e,n)),a=l-1,u--;break;case 1:c[l++]=h(w(r,Math.pow(2,16),e,n)),a=l-1,u--;break;case 2:return i.join("")}if(0===u&&(u=Math.pow(2,f),f++),c[a])s=c[a];else{if(a!==l)return null;s=o+o.charAt(0)}i.push(s),c[l++]=o+s.charAt(0),o=s,0===--u&&(u=Math.pow(2,f),f++)}}(t.length,16384,(function(e){return t.charCodeAt(e)-32}))}function k(t,n,o){if(t&&void 0!==n)if("object"===e(n)&&n&&(n=JSON.stringify(n)),this.available){var a=o?s:f;try{a.setItem(t,this.config.compress?b(n):n)}catch(e){p(t,n,o?void 0:1/0)}}else p(t,n,o?void 0:1/0)}function C(t){var e=this,n=[];try{this.available&&[f,s].forEach((function(o){if(u(o,t)){var a=o.getItem(t);n.push({key:t,value:i(e.config.compress?S(a):a),type:v[o===f?"LS":"SS"]})}}));var o=x(t);o&&n.push({key:t,value:i(o),type:v.CC})}catch(t){throw new TypeError(t.message)}return n}function T(t){try{var e=!1;this.available&&([f,s].forEach((function(n){e=e||!!n.getItem(t)})),e&&[f,s].forEach((function(e){e.removeItem(t)})));var n=d(t);return e||n}catch(e){return d(t)}}var I=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=Object.freeze(function(){var t=0,e=o(arguments[0])?arguments[0]:{};for(t=1;t<arguments.length;t++)r(arguments[t],e);return e}({compress:!1},e)),this.available=function(){try{return f.setItem("test","test"),f.removeItem("test"),!0}catch(t){return!1}}()}var e,a,c;return e=t,(a=[{key:"set",value:function(){return k.apply(this,arguments)}},{key:"get",value:function(){var t=arguments,e=this.getAll.apply(this,arguments).filter((function(e){return!t[1]||e.type===v.SS}));if(e.length>0)return e[0].value}},{key:"getAll",value:function(){return C.apply(this,arguments)}},{key:"remove",value:function(){return T.apply(this,arguments)}}])&&n(e.prototype,a),c&&n(e,c),t}();t.compress=b,t.decompress=S,t.default=I,t.getAllCookies=function(t){return decodeURIComponent(document.cookie).split(";").map((function(t){var e=t.split("=");return{key:c(e[0]),value:e[1]}})).filter((function(e){return!!e.key.match(t)}))},t.getCookie=x,t.removeCookie=d,t.setCookie=p,Object.defineProperty(t,"__esModule",{value:!0})}));
